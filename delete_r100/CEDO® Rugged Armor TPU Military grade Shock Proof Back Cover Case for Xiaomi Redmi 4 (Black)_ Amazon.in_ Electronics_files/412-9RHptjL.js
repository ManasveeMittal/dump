(function(h){var m=window.AmazonUIPageJS||window.P,t=m._namespace||m.attributeErrors,a=t?t("AskAuiAssets"):m;a.guardFatal?a.guardFatal(h)(a,window):a.execute(function(){h(a,window)})})(function(h,m,t){h.when("jQuery","ready").execute(function(a){a("body").delegate(".askInlineWidget .cdShowLess, .askInlineWidget .cdReadMore","click touchstart",function(b){b.preventDefault();a(b.target).parents(".cdJSEnabledText").toggleClass("askShowMore")})});h.when("jQuery","load").execute(function(a){var b=a(".askSubHeader");
0<b.length&&!m.pageYOffset&&a("html, body").animate({scrollTop:b.offset().top},0)});h.when("jQuery","ready").execute(function(a){function b(){return a(m).scrollTop()+5>=a(document).height()-a(m).height()}function d(){b()&&f()}function e(){a("body").hasClass("allAnswersScrolling")?a(document).scroll(d):(a(".loadMoreAnswersMobile").show(),a(".loadMoreAnswersMobile").bind("touchstart click",f))}function f(){var k=a(".answersLoadingSpinner"),n=a(".loadMoreAnswersMobile"),q=a.trim(a(".askPage input[name=askQuestion]").val()),
p=a.trim(a(".askPage input[name=askSort]").val()),r=a(".askPage input[name=askLanguage]").val(),x=a(".askPage input[name=askAsin]").val(),q="/ask/answers/inline/"+q+"/"+l+"?pageSize=6&sort="+p+"&language="+r;x!==t&&(q+="&asin="+x);k.show();n.hide();a(".askMobileFailedToFetchMoreAnswers").hide();a(document).unbind("scroll",d);n.unbind("touchstart click",f);a.ajax({url:q,data:{},dataType:"html",cache:!1,timeout:2E3,success:function(d){k.hide();a(".askPage .answerBox").append(d);g&&(b()?f():g=!1);"true"===
a.trim(a("input[name=moreAnswersAfterPage"+l+"]").val())?e():a(".loadMoreAnswersMobile").hide();a(document).trigger("ajax:success");l+=1},error:function(){k.hide();a(".askMobileFailedToFetchMoreAnswers").show();e()}})}var g=!0,l=3;a("body").hasClass("allAnswersScrolling")&&(b()?f():g=!1,a(document).scroll(d));a(".loadMoreAnswersMobile").bind("touchstart click",f)});h.when("jQuery","ready").execute(function(a){var b=!0;a("body").delegate(".askQuestionForm","submit",function(f){f=a(f.currentTarget);
var g=f.find("[name='askQuestionText']"),l=g.val(),g=g.attr("placeholder");if("undefined"===typeof l||l.match(/^\s*$/)||l===g)return f.attr("class","askQuestionForm hasEmptyQuestion"),!1;if(b)return b=!1,e(f,l,d),!1;f.attr("class","askQuestionForm");return!0});var d=function(a,b){b?a.trigger("submit"):a.attr("class","askQuestionForm hasBadQuestion")},e=function(b,d,e){0<=d.indexOf("?")?e(b,!0):a.ajax({url:"/gp/customer-forum/dynamic-update/validate-post.html",dataType:"json",data:{body:d,checkIsQuestion:1},
success:function(a){e(b,a.hasError||a.content.isQuestion);b.trigger("ajax:success")},error:function(a,d,g){e(b,!0);b.trigger("ajax:error")}})}});h.when("jQuery","ready").register("askPostQuestionValidation",function(a){function b(b){var k=a(b.currentTarget),p=g.val(),r=g.attr("placeholder");a(".askError").hide();return"undefined"===typeof p||p.match(/^\s*$/)||p===r?(l.show(),b.stopImmediatePropagation(),k.trigger("askValidationComplete"),!1):f?(f=!1,e(k,p,d),b.stopImmediatePropagation(),k.trigger("askValidationComplete"),
!1):!0}function d(a,b){b?a.trigger("submit"):k.show()}function e(b,d,e){0<=d.indexOf("?")?e(b,!0):a.ajax({url:"/gp/customer-forum/dynamic-update/validate-post.html",dataType:"json",data:{body:d,checkIsQuestion:1},success:function(a){e(b,a.hasError||a.content.isQuestion);b.trigger("askValidationComplete")},error:function(a,d,l){e(b,!0);b.trigger("askValidationComplete")}})}var f=!0,g,l=a(".askEmptyQuestionError"),k=a(".askBadQuestionError");return{setup:function(a,d,e){g=e;a.delegate(d,"submit",b)}}});
h.when("jQuery","askHuddlesControl","ready").execute(function(a,b){function d(d){var f="/ask/questions/inline/"+a.trim(a(".askWidgetQuestions input.askAsin").val())+"/"+d;a.ajax({url:f,data:{},dataType:"html",cache:!1,timeout:5E3,success:function(g){a(".askInlineWidget .askFailedToFetchMoreQuestions").hide();a(".askInlineWidget .askLoadMoreQuestions").hide();a(".askInlineWidget .askMoreQandAResults").append(g);a(".askInlineWidget .askTopQandALoadMoreQuestions").hide();g=d+1;a(".askWidgetQuestions input.nextPage").val(g);
g=document.getElementById("askInlineQuestionsPage-"+d);var l;if(l="undefined"!==typeof g&&null!==g)l=g.getBoundingClientRect(),l=!(0<=l.top&&0<=l.left&&l.bottom<=(m.innerHeight||a(m).height())&&l.right<=(m.innerWidth||a(m).width()));if(l){l=0;do l+=g.offsetTop||0,g=g.offsetParent;while(g);g=l;a("html, body").animate({scrollTop:g},"slow")}b.initializeHuddlesLinks(a(".askInlineWidget .askMoreQandAResults"),"dp")},error:function(){a(".askInlineWidget .askFailedToFetchMoreQuestions").show()}})}a("body").delegate(".askInlineWidget .askSeeMoreQuestionsLink",
"click",function(a){d(2);a.preventDefault()});a("body").delegate(".askInlineWidget .askLoadMoreQuestionsLink","click",function(b){var f=parseInt(a(".askWidgetQuestions input.nextPage").val(),10)||0;0<f&&(d(f),b.preventDefault())})});h.when("jQuery","ready").execute(function(a){function b(b){b=document.getElementById(b);var d;if(d="undefined"!==typeof b&&null!==b)d=b.getBoundingClientRect(),d=!(0<=d.top&&0<=d.left&&d.bottom<=(m.innerHeight||a(m).height())&&d.right<=(m.innerWidth||a(m).width()));if(d){d=
0;do d+=b.offsetTop||0,b=b.offsetParent;while(b);b=d;a("html, body").animate({scrollTop:b},"slow")}}function d(){var b=a(".askQuestionForm input.askAsin").val();return b&&0!==b.length?"?asin="+b:""}function e(e,g){if(e){var n=d();a.ajax({url:"/ask/answers/inline/"+e+"/"+g+n,data:{},dataType:"html",cache:!1,timeout:5E3,success:function(d){a(".askInlineWidget #failed-to-fetch-answers-"+e).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+e).hide();a(".askInlineWidget .askCollapseAnswers-"+e).show();
a(".askInlineWidget .askLoadMoreAnswersLink-"+e).hide();a(".askInlineWidget #"+e).show();a(".askInlineWidget #"+e).append(d);f(e,g);b("askInlineAnswersPage-"+e+"-"+g)},error:function(){a(".askInlineWidget #failed-to-fetch-answers-"+e).show()}})}}function f(b,d){a(".askWidgetQuestions input.currentAnswersPage-"+b).val(d)}function g(d){b("question-"+d);setTimeout(function(){a(".askInlineWidget #"+d).empty();a(".askInlineWidget .askCollapseAnswers-"+d).hide();a(".askInlineWidget #failed-to-fetch-answers-"+
d).hide();a(".askInlineWidget #askSeeAllAnswersLink-"+d).show()},500);f(d,1)}a("body").delegate(".askInlineWidget .askWidgetSeeAllAnswersInline","click",function(b){var d=a(b.currentTarget).attr("data-questionId");e(d,1);b.preventDefault()});a("body").delegate(".askInlineWidget .askWidgetLoadMoreAnswersInline","click",function(b){var d=a(b.currentTarget).attr("data-questionId"),g=parseInt(a(".askWidgetQuestions input.currentAnswersPage-"+d).val(),10)||0;0<g&&(e(d,g+1),b.preventDefault())});a("body").delegate("input[name='collapse-to-most-helpful-answer']",
"click",function(b){b=a(b.currentTarget).attr("data-questionId");g(b)})});h.when("jQuery","ready").register("askAuthenticatedAjax",function(a){return{handler:function(b,d){var e=a(b.currentTarget),f=e.attr("action"),g=e.attr("method"),l=e.serializeArray(),k=e.attr("type"),f={url:f,type:g,data:l,dataType:k,timeout:d,beforeSend:function(b,d){d.dataType===t&&b.setRequestHeader("Accept","*/*;q=0.5, "+d.accepts.script);b.setRequestHeader("X-Requested-With","XMLHttpRequest");var g=a.Event("ajax:beforeSend");
e.trigger(g,[b,d]);if(!1!==g.result)e.trigger("ajax:send",b);else return!1},success:function(a,b,d){e.trigger("ajax:success",[a,b,d])},complete:function(a,b){e.trigger("ajax:complete",[a,b])},error:function(a,b,d){e.trigger("ajax:error",[a,b,d])}};if(!("withCredentials"in new XMLHttpRequest))return!0;f.xhrFields={withCredentials:!0};b.preventDefault();a.ajax(f)}}});h.when("jQuery","askAbstractLiveSearch","ready").register("askLiveSearch",function(a,b){return{setup:function(a,e,f){b.setup(a,e,f,"/ask/livesearch/search")}}});
h.when("askAbstractLiveSearch","ready").register("askDetailPageSearchLiveSearch",function(a){return{setup:function(b,d,e){a.setup(b,d,e,"/ask/livesearch/detailPageSearch/search")}}});h.when("jQuery","ready").register("askAbstractLiveSearch",function(a){function b(a){return"function"!==typeof a?function(){}:a}var d=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}();return{setup:function(e,
f,g,l){function k(c){y();clearTimeout(q);n=a.ajax(l,{type:"GET",data:{query:c,asin:v,forumId:E,liveSearchSessionId:r,liveSearchPageLoadId:x,language:D}}).done(t).fail(C);p=c}var n,q,p,r=null,x=null,h=e.find(f),m=e.find(".askLiveSearchSessionId"),u=h.closest("form"),v=a.trim(u.children("input.askAsin").val()),E=a.trim(u.children("input.askForumId").val()),D=a.trim(u.children("input[name=language]").val()),y=b(g.liveSearchStartCallback),t=b(g.liveSearchDoneCallback),z=b(g.liveSearchClearCallback),C=
b(g.liveSearchFailCallback);e.delegate(f,"keyup input",function(){var c=h.val(),b=a.trim(c);clearTimeout(q);if(b!==p){null===r&&(r=d(),m.val(r));x=a(".askLiveSearchPageLoadId").val();if(null===x||""===x)x=d(),a(".askLiveSearchPageLoadId").val(x);0===b.length?(z(),n&&n.abort(),r=p=null):c.match(/\w\W+$/)?k(b):q=setTimeout(function(){k(b)},500)}})}}});h.when("A","ready").register("askAbstractDetailPageSearchPostQuestion",function(a){function b(b,d,e){a.get("/gp/customer-forum/dynamic-update/validate-post.html",
{contentType:"json",params:{body:b,checkIsQuestion:1},success:function(a){a.hasError||a.content.isQuestion?d():e()},error:function(){d()}})}var d=a.$,e={postQuestionTextInputSelector:"input",callbacks:{goodQuestion:function(){},badQuestion:function(){},emptyQuestion:function(){}}};return{setup:function(f,g){function l(){k.callbacks.badQuestion();n=!0}var k=d.extend(!0,{},e,g),n=!1;a.declarative(f,"click",function(){var a=d(k.postQuestionTextInputSelector).val();"undefined"===typeof a||a.match(/^\s*$/)?
k.callbacks.emptyQuestion():n?k.callbacks.goodQuestion():-1===a.indexOf("?")?l():b(a,k.callbacks.goodQuestion,l)})}}});h.when("A","a-alert","ready").register("askAnswerSolicitationPostAnswer",function(a,b){return{setup:function(d){var e=a.$("#askPostAnswerFormSection-"+d),f=a.$("#askPostAnswerForm-"+d),g=a.$("#askAnswerTextArea-"+d),l=a.$("#askPostAnswerResponse-"+d),k=a.$("#askPostAnswerSpinner-"+d),n=b("#askPostAnswerError-"+d);a.declarative.create(f,"ask-post-answer-submit");a.declarative("ask-post-answer-submit",
"submit",function(b){b.$event.preventDefault();e.children().hide();a.post(f.attr("action"),{withCredentials:!0,params:f.serializeArray(),indicator:k,success:function(a,b,d){l.html(a).show();g.val("")},error:function(b){401===b.http.status||409===b.http.status?(a.declarative.remove(f,"ask-post-answer-submit"),f.submit()):(f.show(),n.html(b.http.responseText).show())}})})}}});h.when("A","a-alert","ready").register("askAnswerSolicitationDeleteAnswer",function(a,b){function d(b){return a.$("#askDeleteAnswerSection-"+
b.data.answerId)}return{setup:function(e){var f=a.$("#askPostAnswerFormSection-"+e),g=a.$("#askPostAnswerForm-"+e),l=a.$("#askPostAnswerResponse-"+e);a.declarative("ask-show-delete-answer-section","click",function(a){d(a).show()});a.declarative("ask-hide-delete-answer-section","click",function(a){d(a).hide()});a.declarative("ask-submit-delete-answer-form","click",function(d){d=d.data.answerId;var e=a.$("#askDeleteAnswerForm-"+d),q=a.$("#askAnswerContentSection-"+d),p=a.$("#askUpdateAnswerSection-"+
d),r=b("#askDeleteAnswerError-"+d);r.hide();p.hide();a.post(e.attr("action"),{withCredentials:!0,params:e.serializeArray(),indicator:a.$("#askDeleteAnswerSpinner-"+d),success:function(a,b,d){l.hide();q.hide();f.show();g.show()},error:function(a){r.html(a.http.responseText).show();p.show()}})})}}});h.when("jQuery","ready").register("askExpander",function(a){return{setup:function(b){b.delegate(".askExpanderContainer .askSeeMore","click",function(b){a(b.currentTarget).closest(".askExpanderContainer").addClass("askExpanderExpanded");
b.preventDefault()});b.delegate(".askExpanderContainer .askSeeLess","click",function(b){a(b.currentTarget).parents(".askExpanderContainer").removeClass("askExpanderExpanded");b.preventDefault()})}}});h.when("A").register("askPreventEnterKey",function(a){a.declarative("ask-prevent-enter-key","keypress",function(a){13===a.$event.which&&a.$event.preventDefault()})});h.when("A","askUtils","ready").register("askPreventDoubleSubmit",function(a,b){return{idempotentSetup:b.makeIdempotent(function(){var b=
!1;a.declarative("ask-prevent-double-submit","submit",function(a){b&&a.$event.preventDefault();b=!0})})}});h.when("A","ready").register("askHuddlesControl",function(a){return{initializeHuddlesLinks:function(b,d){var e={};b.find(".askHuddlesUninitializedLink").each(function(b){b=a.$(this);var d=b.data("questionId");e[d]=b});var f=a.$.map(e,function(a,b){return b});0!==f.length&&a.$.ajax({url:"/ask/conversations/data",data:{questionId:f,sourcePage:d},timeout:5E3,traditional:!0,success:function(d){if(d=
a.$.parseJSON(d))a.$.each(d,function(b,d){if(d.questionId&&e[d.questionId]){var g=e[d.questionId];d.url&&(g.find("a").attr("href",d.url),g.removeClass("askHuddlesUninitializedLink"),d.chatboxParams&&a.declarative.create(g.find("a"),"render-huddles-chat",d.chatboxParams))}}),b.find(".askHuddlesUninitializedLink").remove()},complete:function(){a.trigger("ask:huddles-data:complete")}})},initializeChatbox:function(){h.when("A","huddles-chatbox").execute(function(a,d){a.declarative("render-huddles-chat",
"click",function(e){d.renderHuddleChat(a.$.extend({},e.data,{showEmbedded:!1}));e.$event.preventDefault()})})}}});h.register("askCsmCounter",function(){function a(a){if("undefined"!==typeof a){var d=m.ue;if(d&&d.count){var e=d.count(a)||0;d.count(a,e+1)}}}return{logCounterMetric:a,createRateLimitedCsmLogHandler:function(b){var d=!1;return function(){d||(d=!0,setTimeout(function(){d=!1},300),a(b))}}}});h.when("A","jQuery","ready").register("askPrefetchDetailPageSearchData",function(a,b){return{setup:function(){var b=
!1;a.declarative("ask-detail-page-search-prefetch-click","click touchstart",function(e){!1===b&&a.post("/ask/livesearch/detailPageSearch/search/prefetch/"+e.data.asin);b=!0})}}});h.when("jQuery","ready").register("askUtils",function(a){return{makeIdempotent:function(a){var d=!1;return function(){d||(a.apply(this,arguments),d=!0)}},makeRateLimited:function(b,d){var e=!1,f=a.extend(!0,{},{minPeriodInMilliseconds:2E3},d);return function(){e||b.apply(this,arguments);e=!0;setTimeout(function(){e=!1},f.minPeriodInMilliseconds)}}}});
h.when("A","askCsmCounter","askUtils","ready").register("askLogClickCsm",function(a,b,d){return{idempotentSetup:d.makeIdempotent(function(){var d;a.declarative("ask-log-click-csm","click touchstart",function(a){d===t&&(d=a.type);a.type===d&&b.logCounterMetric(a.data.metricName)})})}});h.when("A").execute(function(a){a.on("a:dropdown:selected:question_order_dropdown",function(a){m.location=a.value})});h.when("jQuery","ready").execute(function(a){"placeholder"in document.createElement("textarea")||
a(".askQuestionForm textarea").each(function(){""===a(this).val()&&""!==a(this).attr("placeholder")&&a(this).val(a(this).attr("placeholder"));a(this).focus(function(){a(this).val()===a(this).attr("placeholder")&&a(this).val("")});a(this).blur(function(){""===a(this).val()&&a(this).val(a(this).attr("placeholder"))})})});h.when("jQuery","askAuthenticatedAjax","ready").register("askVoteControl",function(a,b){return{setup:function(d){d.undelegate(".voteAjax form","submit",b.handler);d.undelegate(".voteAjax form",
"ajax:beforeSend");d.undelegate(".voteAjax form","ajax:send");d.undelegate(".voteAjax form","ajax:error");d.undelegate(".voteAjax form","ajax:success");d.delegate(".voteAjax form","submit",b.handler);d.delegate(".voteAjax form","ajax:beforeSend",function(b,d){var g=a(b.currentTarget),l=g.closest(".voteAjax");if(l.hasClass("up")&&g.hasClass("up")||l.hasClass("down")&&g.hasClass("down"))return b.preventDefault(),d.abort(),!1});d.delegate(".voteAjax form","ajax:error",function(e,f){if(401===f.status||
466===f.status)d.undelegate(".voteAjax form","submit",b.handler),a(e.currentTarget).trigger("submit")});d.delegate(".voteAjax form","ajax:success",function(b){b=a(b.currentTarget);var d=b.closest(".voteAjax"),g=d.find(".label"),l=d.find(".count"),k=b.hasClass("up")?1:-1,k=parseInt(g.attr("data-count"),10)+k;g.attr("data-count",k);l.text(""+k);d.attr("class","vote voteAjax "+b.attr("class"))})}}});h.when("A","ready").register("askDesktopTabbing",function(a){function b(a){(function(a){var b=e(".askSearchResultsHeader");
a=e(b.get(a));b.removeClass("askSearchResultsHeaderActive");a.addClass("askSearchResultsHeaderActive")})(a);(function(a){var b=e(".askSearchResults");a=e(b.get(a));b.removeClass("askSearchResultsActive");a.addClass("askSearchResultsActive")})(a)}function d(){a.declarative("ask-dpsearch-desktop-go-to-tab","click",function(a){e(".askSearchResultsHeader").index(a.$target);b(a.data.index)})}var e=a.$;return{setup:function(){d()},switchToTab:b}});h.when("A","askAbstractDetailPageSearchPostQuestion","askUtils",
"ready").register("askDesktopDetailPageSearchPostQuestion",function(a,b,d){var e=a.$;return{setup:function(){var a=e(".askDPSearchForm"),g=e(".askDPSearchQuestionErrorContainer"),l=g.find(".askBadQuestionError"),k={postQuestionTextInputSelector:"input.askDPSearchTextInput",callbacks:{goodQuestion:d.makeRateLimited(function(){a.submit()},{minPeriodInMilliseconds:2E3}),badQuestion:function(){g.children().hide();l.show()}}};b.setup("ask-dpsearch-desktop-post-question",k)}}});h.when("A","jQuery","askVoteControl",
"askExpander","askLiveSearch","askHuddlesControl","askCsmCounter","askPreventDoubleSubmit","ready").register("askDetailPageWidget",function(a,b,d,e,f,g,l,k){function n(a){a.delegate(".askInlineWidget .askLiveSearchEnabled","keypress",function(a){13===(a.keyCode||a.which)&&a.preventDefault()})}var q={liveSearchStartCallback:function(){b(".askLiveSearchLoading").show()},liveSearchDoneCallback:function(a){b(".askInlineWidget .askMoreQandAResults").empty();b(".askWidgetQuestions input.nextPage").val(2);
b(".askInlineWidget .askTopQandALoadMoreQuestions").hide();b(".askLiveSearchLoading").hide();b(".askLiveSearchResults").html(a);b(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchShow");b(".askInlineWidget .askQuestionExamples").hide();b(".askQuestionForm").attr("class","askQuestionForm");b(".askPostQuestionButtonContainer").show();b(".askLiveSearchSuccessfulMessage").show();b(".askLiveSearchFailureMessage").hide()},liveSearchClearCallback:function(){b(".askLiveSearchLoading").hide();
b(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");b(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();b(".askPostQuestionButtonContainer").hide()},liveSearchFailCallback:function(){b(".askLiveSearchLoading").hide();b(".askWidgetQuestions").attr("class","askWidgetQuestions askLiveSearchHide");b(".askInlineWidget .askTopQandALoadMoreQuestions, .askInlineWidget .askQuestionExamples").show();b(".askPostQuestionButtonContainer").show();
b(".askLiveSearchSuccessfulMessage").hide();b(".askLiveSearchFailureMessage").show()}};return{setup:function(){var p=b("#cf-ask-cel");k.idempotentSetup();d.setup(p);e.setup(p);n(p);f.setup(p,".askInlineWidget .askLiveSearchEnabled",q);g.initializeHuddlesLinks(p,"dp");(function(){var b=l.createRateLimitedCsmLogHandler("ask-btf-desktop-input-click");a.declarative("ask-btf-desktop-input-click","click touchstart",b);b=l.createRateLimitedCsmLogHandler("ask-btf-desktop-input-focusin");a.declarative("ask-btf-desktop-input-focusin",
"focusin",b);a.declarative("ask-btf-desktop-input-change","change",function(){l.logCounterMetric("ask-btf-desktop-input-change")});a.declarative("ask-btf-desktop-input-keyup","keyup",function(){l.logCounterMetric("ask-btf-desktop-input-keyup")})})()}}});h.when("jQuery","askVoteControl","askExpander","askHuddlesControl","askPreventDoubleSubmit","ready").register("askAllQuestionsPage",function(a,b,d,e,f){return{setup:function(){f.idempotentSetup();b.setup(a(".askTeaserQuestions"));d.setup(a(".askTeaserQuestions"));
e.initializeHuddlesLinks(a(".askTeaserQuestions"),"ql");e.initializeChatbox()}}});h.when("jQuery","askAnswerSolicitationPostAnswer","askAnswerSolicitationDeleteAnswer","askExpander","ready").register("askAnswerSolicitationLandingPage",function(a,b,d,e){return{setup:function(f){b.setup(f);d.setup(f);e.setup(a(".askTestQuestion"))}}});h.when("jQuery","askExpander","askHuddlesControl","ready").register("askDesktopAllAnswersPage",function(a,b,d){return{setup:function(){b.setup(a(".askAnswersAndComments"));
d.initializeChatbox()}}});h.when("A","askPrefetchDetailPageSearchData","askDetailPageSearchLiveSearch","askDesktopTabbing","askExpander","askDesktopDetailPageSearchPostQuestion","askDesktopDetailPageSearchCsm","askPreventEnterKey","ready").register("askDesktopDetailPageSearchWidget",function(a,b,d,e,f,g,l){var k=a.$;return{setup:function(){var a=k(".askSearchResultsContainer"),q=k(".askSearchTabHeaders"),p=k(".askDPSearchForm"),r=k(".askDPSearchFailureMessage"),x=k(".askPostQuestionPromptContainer"),
h=k(".askDPSearchQuestionErrorContainer"),m=k(".askDPSearchSearchIndicator"),u=k(".askDPSearchResultsViewableContent");d.setup(p,".askDPSearchTextInput",{liveSearchStartCallback:function(){h.children().hide();m.removeClass("aok-hidden");m.show()},liveSearchDoneCallback:function(b){u.removeClass("aok-hidden");a.html(b);q.show();x.show();r.hide();m.hide();e.switchToTab(0)},liveSearchClearCallback:function(){a.empty();q.hide();x.hide();r.hide();m.hide();h.children().hide()},liveSearchFailCallback:function(){a.empty();
q.hide();x.hide();m.hide();r.show()}});b.setup();e.setup();f.setup(a);g.setup();l.setup()}}});h.when("jQuery","askExpander","ready").register("askDesktopSingleAnswerPage",function(a,b){return{setup:function(){b.setup(a(".askAnswerAndComments"))}}});h.when("A","askCsmCounter","askLogClickCsm","ready").register("askDesktopDetailPageSearchCsm",function(a,b,d){return{setup:function(){a.declarative("ask-dpsearch-desktop-input-change","change",function(){b.logCounterMetric("ask-dpsearch-desktop-input-change")});
a.declarative("ask-dpsearch-desktop-input-keyup","keyup",function(){b.logCounterMetric("ask-dpsearch-desktop-input-keyup")});var e=b.createRateLimitedCsmLogHandler("ask-dpsearch-desktop-input-click");a.declarative("ask-dpsearch-desktop-input-click","click touchstart",e);e=b.createRateLimitedCsmLogHandler("ask-dpsearch-desktop-input-focusin");a.declarative("ask-dpsearch-desktop-input-focusin","focusin",e);d.idempotentSetup()}}});h.when("A","jQuery","ready").register("askModerationControl",function(a,
b){function d(a,b){var d="";b.forEach(function(b){d+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,b.uri||"").replace(/##subject##/g,(b.subject||"").id).replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||"")});return d}function e(a,b){var d="";b.forEach(function(b){d+=a.replace(/##marketplace##/g,b.marketplace||"").replace(/##uri##/g,
b.uri||"").replace(/##subject##/g,b.questionUri||"").replace(/##text##/g,b.text||"").replace(/##author##/g,b.actorId||"").replace(/##submitDate##/g,b.submitDate||"").replace(/##contentState##/g,b.contentState||"").replace(/##moderationState##/g,b.moderationState||"")});return d}function f(a){a=a.serializeArray();var d={};b.map(a,function(a,b){d[a.name]=a.value});return d}return{setup:function(g){function l(b,g){a.get("/ask/moderator/search/"+b,{params:g,success:function(a){var g="answers"===b?e:d,
f=a.items;v.val(a.nextPageToken||"");f.length?(m.hide(),u.find("tbody").append(g(h,f)).parent("table").show()):(m.show(),u.find("tbody").html("").parent("table").hide());x(a.totalCount)},error:function(a){q(["Error Encountered: "+a.http.responseText]);u.find("tbody").html("").parent("table").hide()}})}function k(b,d){if(d.length){var e="/ask/moderator/moderate/"+g.find("select[name='type']").val(),f={params:{action:b,uris:d.join(",")},success:function(a){a=g.find(".moderationSuccess");a.find(".a-alert-content").html("Action Success! <br> Note that data in the table is not auto refreshed.");
a.show().fadeOut(4E3)},error:function(a){q(["Error Encountered: "+a.http.responseText])}};a.post(e,f)}else q(["No record selected."])}function n(a){var b=[];["customerId","type"].forEach(function(d){var e="Field "+d+" must be specified.";d=a[d]&&0!==a[d].trim().length?void 0:e;d&&b.push(d)});return b.length?(q(b),!1):!0}function q(a){a="<ul>"+b.map(a,function(a){return"<li>"+a+"</li>"}).join("")+"</ul>";var d=g.find(".moderationError");d.show();d.find(".a-alert-content").html(a)}function p(){var a=
g.find(".moderationError");a.hide();a.find(".a-alert-content").html("")}function r(){var a=[];u.find("tbody tr").each(function(d,e){b(e).find("input:checkbox").is(":checked")&&a.push(b(e).find(".itemUri").data("uri"))});return a}function x(a){g.find(".pagination").find(".count").html(u.find("tbody tr").length)}b.ajaxSetup({headers:{"X-Requested-With":"XMLHttpRequest"}});g.find("input[name='reasonCode']").hide();var h=g.find("#template-tr-item").first().html(),m=g.find(".noDataSection"),u=g.find(".searchResultTable"),
v=g.find("input[name='nextPageToken']");g.delegate(".search","click",function(a){p();u.find("tbody").html("");a=f(g.find("form"));a.nextPageToken="";n(a)&&l(a.type,a)});g.delegate(".loadMore","click",function(a){p();a=f(g.find("form"));n(a)&&l(a.type,a)});g.delegate(".suppress","click",function(a){p();a=r();k("suppress",a)});g.delegate(".unsuppress","click",function(a){p();a=r();k("unsuppress",a)});g.delegate("input[name='selectAll']","change",function(a){a=this.checked;u.find("tbody input:checkbox").prop("checked",
a)});g.delegate("select[name='type']","change",function(a){m.hide();g.find("input[name='selectAll']").prop("checked",!1);u.find("tbody").html("").parent("table").show();x(0)})}}})});