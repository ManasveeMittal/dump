!function(e,t){var o,i=function(){r=[],this.scriptSource="https://players.brightcove.net/{{account}}/{{playerId}}_default/index.min.js",this.createScripts()},a={},r=[],n=57;i.prototype.getPlayer=function(){if(r[0])return a[r[0]]},i.prototype.getPlayersMap=function(){return a},i.prototype.getPlayerNameArray=function(){return r},i.prototype.getPlayerWithName=function(e,t){var o=r.filter(function(t){return t===e});return o.length>0?a[o[0]]:!(!t||!a[0])&&a[0]},i.prototype.createPlayers=function(t){videojs(this.getAttribute("data-player")).ready(function(){if(a[this.id_]=new e.brightCoveVideo(this.el_.parentElement,this),r.push(this.id_),"enabled"===this.el_.parentElement.getAttribute("data-sticky")){videojs(this.id_).on("playing",function(){var e=this;s(e.el_)}),videojs(this.id_).on("ended",function(){var e=this;p(e.el_)});var t=c(this.el_).querySelector(".js-close");t.addEventListener("click",function(e){var t=c(e.currentTarget),o=t.querySelector("[data-player]");p(o),videojs(o.id).pause()}),videojs(this.id_).on("fullscreenchange",function(){var t=this;t.isFullscreen()||e.common.scrollBoundary.refresh()})}videojs(this.id_).on("playing",function(){var e=this,t=e.el_.getAttribute("data-tracker-id");t!==o&&(d(),l(t))}),videojs(this.id_).on("ended",function(){d()})})},i.prototype.createScripts=function(){var e=this,o=[],i=document.querySelectorAll("video");Array.prototype.map.call(i,function(i,a,r){var n={account:i.getAttribute("data-account"),playerId:i.getAttribute("data-player"),elementId:i.getAttribute("id")},l=t.common.formatString(e.scriptSource,n);if(o.indexOf(l)===-1){var d=document.createElement("script");d.setAttribute("data-player",n.elementId),document.getElementsByTagName("body")[0].appendChild(d),d.onload=e.createPlayers,d.src=l,o.push(l)}})},e.videoPlayerController=new i,e.videoPlayerController.onTemplateLoaded=function(t){var o=brightcove.api.getExperience(t),i=o.getModule(brightcove.api.modules.APIModules.VIDEO_PLAYER);e.videoPlayerController.registerPlayerApi(t,o,i)},e.videoPlayerController.onTemplateReady=function(e){};var l=function(t){new e.contentTracker((void 0),"VIEW","VIDEO",t),o=t},d=function(){o=void 0},c=function(e){return $(e).closest(".js-sticky")[0]},s=function(t){if(!t.getAttribute("data-scroll-enabled")){var o=c(t),i=o.getAttribute("data-boundary"),a=i?document.querySelector(i):"viewport",r=o.parentElement;r.style.height=r.getBoundingClientRect().height+"px",e.common.scrollBoundary.addItem(o,a,n,null,"is-fixed"),t.setAttribute("data-scroll-enabled",!0)}},p=function(o){var i=c(o);t.style.removeClass(i,"is-fixed");var a=i.parentElement;a.style.height="auto",e.common.scrollBoundary.removeItem(i),o.removeAttribute("data-scroll-enabled")}}(PULSE.app,PULSE.core),function(e,t){e.brightCoveVideo=function(e,t){var o=this;o.name=t.id_||"default_player",o.api=t,o.catalog=o.api.catalog,o.players=document.querySelectorAll('[data-widget="video-player"]'),o.idToPlayOnLoad=!1,o.ready=!1,o.element=e,o.metaElements=!1,o.attemptToFindMetaDivs()},e.brightCoveVideo.prototype.attemptToFindMetaDivs=function(){var e=this;e.metaElements={title:e.element.querySelector(".videoTitle")||!1,description:e.element.querySelector(".videoDescription")||!1,date:e.element.querySelector(".videoDate")||!1}},e.brightCoveVideo.prototype.setMeta=function(e){var t=this,o=Object.keys(t.metaElements);if(o.map(function(o){var i=t.metaElements[o];i&&e[o]?i.innerHTML=e[o]:i&&(i.innerHTML="")}),e.contentId){t.element.parentNode.getElementsByClassName("videoSocialShare")[0],window.location.hostname+"/tv/"+e.contentId}},e.brightCoveVideo.prototype.setApiControllers=function(e,t){var o=this;o.player=e,o.api=t,o.ready=!0,o.idToPlayOnLoad&&(o.playVideoWithID(o.idToPlayOnLoad),o.api.pause(!1))},e.brightCoveVideo.prototype.playVideoWithID=function(e){var t=this;Array.prototype.map.call(t.players,function(e){e.style.display=""}),t.catalog.getVideo(e,function(e,o){t.catalog.load(o),t.api.play(),t.addCaptions()}),t.playVideo(e)},e.brightCoveVideo.prototype.addCaptions=function(e){var t=this;if(t.api.mediainfo.custom_fields&&t.api.mediainfo.custom_fields.VTT){var o=t.api.mediainfo.custom_fields.VTT;t.api.addRemoteTextTrack({kind:"captions",language:"en",label:"English",src:o}),e&&t.api.on("play",function(){t.api.textTracks()[1].mode="showing"})}},e.brightCoveVideo.prototype.stopVideo=function(){var e=this;e.api.pause()},e.brightCoveVideo.prototype.playVideo=function(e){};var o=document.querySelectorAll('[data-widget="video-player"]');Array.prototype.map.call(o,function(t){var o=t.querySelector("video").getAttribute("id");t=new e.brightCoveVideo(t,{name:o})})}(PULSE.app,PULSE.app.common);